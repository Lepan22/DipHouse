<div class="bloco">
  <h3>To-do</h3>
  <ul id="tarefas"></ul>
</div>

<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>
<script>
  var firebaseConfig = {
    apiKey: "AIzaSyAa_IPmOWZ4-KpWIC7huhhl7mYjYfEJhDk",
    authDomain: "diphouse-control.firebaseapp.com",
    databaseURL: "https://diphouse-control-default-rtdb.firebaseio.com",
    projectId: "diphouse-control",
    storageBucket: "diphouse-control.firebasestorage.app",
    messagingSenderId: "126387069829",
    appId: "1:126387069829:web:7e365252a98da884075aec"
  };
  firebase.initializeApp(firebaseConfig);
  var db = firebase.database();

  function carregarTarefas() {
    db.ref('tarefas').on('value', function(snapshot) {
      var lista = document.getElementById('tarefas');
      lista.innerHTML = '';
      snapshot.forEach(function(child) {
        if (child.val().status === 'Aberto') {
          var li = document.createElement('li');
          li.textContent = child.val().texto;
          lista.appendChild(li);
        }
      });
    });
  }

  carregarTarefas();
</script>
