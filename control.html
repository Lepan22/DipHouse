<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Controle - Mensagem</title>
  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>
  <script>
    var firebaseConfig = {
      apiKey: "AIzaSyAa_IPmOWZ4-KpWIC7huhhl7mYjYfEJhDk",
      authDomain: "diphouse-control.firebaseapp.com",
      databaseURL: "https://diphouse-control-default-rtdb.firebaseio.com",
      projectId: "diphouse-control",
      storageBucket: "diphouse-control.appspot.com",
      messagingSenderId: "126387069829",
      appId: "1:126387069829:web:7e365252a98da884075aec"
    };
    firebase.initializeApp(firebaseConfig);
    var db = firebase.database();
  </script>
</head>
<body>

<h1>Enviar Mensagem</h1>

<input type="text" id="mensagemTexto" placeholder="Texto da mensagem">
<label>
  <input type="checkbox" id="mensagemSom"> Tocar som
</label>
<br>
<button onclick="enviarMensagem()">Enviar</button>
<button onclick="apagarMensagem()">Apagar</button>

<script>
  function enviarMensagem() {
    var texto = document.getElementById('mensagemTexto').value;
    var som = document.getElementById('mensagemSom').checked;
    db.ref('mensagemAtual').set({
      texto: texto,
      som: som
    }).then(function() {
      alert('Mensagem enviada!');
    });
  }

  function apagarMensagem() {
    db.ref('mensagemAtual').remove().then(function() {
      alert('Mensagem apagada!');
    });
  }
</script>

</body>
</html>
